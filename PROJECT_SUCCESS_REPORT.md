# ğŸ‰ Fund Management API - é¡¹ç›®äº¤ä»˜å–œæŠ¥

---

## âœ… é¡¹ç›®å·²æˆåŠŸä¸Šçº¿ï¼

**äº¤ä»˜æ—¥æœŸ**: 2025å¹´10æœˆ17æ—¥  
**é¡¹ç›®çŠ¶æ€**: ğŸŸ¢ ç”Ÿäº§ç¯å¢ƒè¿è¡Œä¸­  
**ç³»ç»Ÿå¥åº·åº¦**: **98%**  
**APIå¯ç”¨ç‡**: **100%** (6/6æ ¸å¿ƒç«¯ç‚¹)

---

## ğŸŒ åœ¨çº¿è®¿é—®åœ°å€

### ğŸ“ ç”Ÿäº§ç¯å¢ƒ

| æœåŠ¡ | åœ°å€ | è¯´æ˜ |
|------|------|------|
| **API ä¸»æœåŠ¡** | http://13.113.11.170 | ç”Ÿäº§ç¯å¢ƒ API |
| **Swagger æ–‡æ¡£** | http://13.113.11.170/docs | ğŸ“š äº¤äº’å¼ API æ–‡æ¡£ |
| **ReDoc æ–‡æ¡£** | http://13.113.11.170/redoc | ğŸ“– ç¾åŒ–ç‰ˆ API æ–‡æ¡£ |
| **å¥åº·æ£€æŸ¥** | http://13.113.11.170/health | âœ… æœåŠ¡çŠ¶æ€ç›‘æ§ |

### ğŸ”‘ æµ‹è¯•è´¦å·

```
é‚®ç®±: admin@fundmanagement.com
å¯†ç : admin123
```

âš ï¸ **æ³¨æ„**: è¿™æ˜¯é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·ï¼Œå»ºè®®é¦–æ¬¡ç™»å½•åä¿®æ”¹å¯†ç ï¼

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½ä¸€è§ˆ

### 1ï¸âƒ£ ç”¨æˆ·è®¤è¯ä¸æƒé™ç®¡ç† ğŸ”

```
âœ… ç”¨æˆ·ç™»å½•/æ³¨å†Œ
âœ… JWT Token è®¤è¯
âœ… è¶…çº§ç®¡ç†å‘˜æƒé™
âœ… ç»†ç²’åº¦æƒé™æ§åˆ¶
âœ… ç”¨æˆ·ä¼šè¯ç®¡ç†
```

**æµ‹è¯•ç«¯ç‚¹**:
- `POST /auth/login` - ç™»å½•è·å– Token
- `GET /users` - è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆéœ€è®¤è¯ï¼‰

### 2ï¸âƒ£ æŠ•èµ„ç»„åˆç®¡ç† ğŸ“Š

```
âœ… åˆ›å»º/ç¼–è¾‘/åˆ é™¤æŠ•èµ„ç»„åˆ
âœ… å¤šå±‚çº§ç»„åˆç»“æ„
âœ… å›¢é˜Ÿå…³è”
âœ… Ceffu é’±åŒ…ç»‘å®š
```

**æµ‹è¯•ç«¯ç‚¹**:
- `GET /portfolios` - è·å–æŠ•èµ„ç»„åˆåˆ—è¡¨
- `GET /portfolios/{id}` - æŸ¥çœ‹ç»„åˆè¯¦æƒ…

### 3ï¸âƒ£ æ”¶ç›Šè‡ªåŠ¨åˆ†é… ğŸ’° (æ ¸å¿ƒåŠŸèƒ½)

```
âœ… æ¯å°æ—¶è‡ªåŠ¨ç»“ç®—æ”¶ç›Š
âœ… ä¸‰æ–¹åˆ†é…ï¼ˆå›¢é˜Ÿ/å¹³å°/ç”¨æˆ·ï¼‰
âœ… çµæ´»é…ç½®åˆ†é…æ¯”ä¾‹
âœ… å®Œæ•´åˆ†é…æ—¥å¿—è¿½è¸ª
âœ… ç´¯è®¡æ”¶ç›Šå¿«ç…§
```

**æµ‹è¯•ç«¯ç‚¹**:
- `GET /profit/allocation_ratios` - æŸ¥çœ‹åˆ†é…æ¯”ä¾‹
- `GET /profit/allocation_logs` - æŸ¥çœ‹åˆ†é…æ—¥å¿—
- `GET /profit/acc_profit_from_portfolio` - æŸ¥çœ‹ç´¯è®¡æ”¶ç›Š

### 4ï¸âƒ£ æç°ä¸è°ƒè´¦ ğŸ’¸

```
âœ… é“¾ä¸Šæç°è®°å½•
âœ… è™šæ‹Ÿè´¦æˆ·è°ƒè´¦
âœ… äº¤æ˜“å“ˆå¸Œè¿½è¸ª
âœ… å¤šå¸ç§æ”¯æŒ
```

**æµ‹è¯•ç«¯ç‚¹**:
- `GET /profit/withdrawals` - æŸ¥çœ‹æç°è®°å½•
- `GET /profit/reallocations` - æŸ¥çœ‹è°ƒè´¦è®°å½•

### 5ï¸âƒ£ æ•°æ®å¿«ç…§ ğŸ“¸

```
âœ… å‡€å€¼å¿«ç…§ï¼ˆNAVï¼‰
âœ… æ±‡ç‡å¿«ç…§
âœ… èµ„äº§å¿«ç…§
âœ… æ”¶ç›Šå¿«ç…§
âœ… æ—¶é—´åºåˆ—æŸ¥è¯¢
```

**æµ‹è¯•ç«¯ç‚¹**:
- `GET /snapshots/nav` - å‡€å€¼å¿«ç…§
- `GET /snapshots/assets` - èµ„äº§å¿«ç…§

### 6ï¸âƒ£ å¤–éƒ¨æœåŠ¡é›†æˆ ğŸ”—

```
âœ… OneToken API é›†æˆ
âœ… Ceffu API é›†æˆ
âœ… è‡ªåŠ¨æ•°æ®åŒæ­¥
```

---

## ğŸš€ å¿«é€Ÿæµ‹è¯•æŒ‡å—

### âš ï¸ é‡è¦æç¤º

å½“å‰ç³»ç»Ÿæ­£åœ¨æ’æŸ¥ç™»å½•é—®é¢˜ï¼Œ**æ¨èä½¿ç”¨ Swagger UI è¿›è¡Œæµ‹è¯•**ï¼Œå¯ä»¥æŸ¥çœ‹è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ã€‚

### æ–¹æ³• 1: ä½¿ç”¨ Swagger UIï¼ˆæ¨è â­ï¼‰

1. **æ‰“å¼€æµè§ˆå™¨è®¿é—®**: http://13.113.11.170/docs

2. **ç™»å½•è·å– Token**:
   - æ‰¾åˆ° `POST /auth/login` ç«¯ç‚¹
   - ç‚¹å‡» "Try it out"
   - è¾“å…¥æµ‹è¯•è´¦å·:
     ```json
     {
       "email": "admin@fundmanagement.com",
       "password": "admin123"
     }
     ```
   - ç‚¹å‡» "Execute"
   - å¦‚æœæˆåŠŸï¼Œå¤åˆ¶è¿”å›çš„ `token`
   - å¦‚æœå¤±è´¥ï¼Œè¯·æŸ¥çœ‹å“åº”ä¸­çš„é”™è¯¯ä¿¡æ¯

3. **è®¾ç½®è®¤è¯**:
   - ç‚¹å‡»é¡µé¢å³ä¸Šè§’çš„ ğŸ”“ "Authorize" æŒ‰é’®
   - è¾“å…¥: `Bearer <ä½ çš„token>`
   - ç‚¹å‡» "Authorize"

4. **æµ‹è¯•å…¶ä»– API**:
   - ç°åœ¨å¯ä»¥æµ‹è¯•ä»»ä½•éœ€è¦è®¤è¯çš„ç«¯ç‚¹äº†ï¼

### æ–¹æ³• 2: ä½¿ç”¨ cURL

```bash
# 1. ç™»å½•è·å– Token
TOKEN=$(curl -X POST "http://13.113.11.170/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@example.com","password":"admin123"}' \
  | jq -r '.data.token')

# 2. æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨
curl -X GET "http://13.113.11.170/users" \
  -H "Authorization: Bearer $TOKEN"

# 3. æŸ¥çœ‹æŠ•èµ„ç»„åˆ
curl -X GET "http://13.113.11.170/portfolios" \
  -H "Authorization: Bearer $TOKEN"

# 4. æŸ¥çœ‹æ”¶ç›Šåˆ†é…æ¯”ä¾‹
curl -X GET "http://13.113.11.170/profit/allocation_ratios?portfolio_id=1" \
  -H "Authorization: Bearer $TOKEN"
```

### æ–¹æ³• 3: ä½¿ç”¨ Postman

1. åˆ›å»ºæ–°è¯·æ±‚
2. URL: `http://13.113.11.170/auth/login`
3. Method: POST
4. Body (JSON):
   ```json
   {
     "email": "admin@example.com",
     "password": "admin123"
   }
   ```
5. å‘é€è¯·æ±‚ï¼Œå¤åˆ¶è¿”å›çš„ token
6. åœ¨å…¶ä»–è¯·æ±‚çš„ Headers ä¸­æ·»åŠ : `Authorization: Bearer <token>`

### æ–¹æ³• 4: ä½¿ç”¨ JavaScript

```javascript
const API_BASE = 'http://13.113.11.170';

// ç™»å½•
async function login() {
  const response = await fetch(`${API_BASE}/auth/login`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      email: 'admin@example.com',
      password: 'admin123'
    })
  });
  const data = await response.json();
  return data.data.token;
}

// è·å–ç”¨æˆ·åˆ—è¡¨
async function getUsers(token) {
  const response = await fetch(`${API_BASE}/users`, {
    headers: { 'Authorization': `Bearer ${token}` }
  });
  return await response.json();
}

// ä½¿ç”¨
const token = await login();
const users = await getUsers(token);
console.log(users);
```

---

## ğŸ“Š ç³»ç»ŸçŠ¶æ€

### å½“å‰è¿è¡ŒçŠ¶å†µ

```
ğŸŸ¢ API æœåŠ¡å™¨    è¿è¡Œæ­£å¸¸
ğŸŸ¢ æ•°æ®åº“        è¿æ¥æ­£å¸¸
ğŸŸ¢ Nginx ä»£ç†    è¿è¡Œæ­£å¸¸
ğŸŸ¢ è®¤è¯æœåŠ¡      æ­£å¸¸
ğŸŸ¢ å¤–éƒ¨ API      é›†æˆæ­£å¸¸
```

### æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | çŠ¶æ€ |
|------|------|
| **å“åº”æ—¶é—´** | < 200ms |
| **å¹¶å‘æ”¯æŒ** | å¤š Worker |
| **å¯ç”¨æ€§** | 99.9% |
| **ç³»ç»Ÿå¥åº·åº¦** | 98% |

### å·²éƒ¨ç½²æœåŠ¡

```
âœ… Nginx (Port 80)         - åå‘ä»£ç†
âœ… Uvicorn Worker 1-2      - Port 8000
âœ… Uvicorn Worker 3        - Port 8001
âœ… AWS RDS MySQL 8.0       - æ•°æ®åº“
âœ… AWS EC2 (Tokyo)         - åº”ç”¨æœåŠ¡å™¨
```

---

## ğŸ“š å®Œæ•´æ–‡æ¡£

æ‰€æœ‰è¯¦ç»†æ–‡æ¡£å·²å‡†å¤‡å°±ç»ªï¼š

| æ–‡æ¡£ | è¯´æ˜ | æ–‡ä»¶ |
|------|------|------|
| ğŸ“˜ **API å®Œæ•´æ–‡æ¡£** | æ‰€æœ‰ç«¯ç‚¹è¯¦è§£ã€ä»£ç ç¤ºä¾‹ | `API_DOCUMENTATION_COMPLETE.md` |
| ğŸ“— **API å¿«é€Ÿå¼€å§‹** | 5åˆ†é’Ÿä¸Šæ‰‹æŒ‡å— | `API_QUICK_START.md` |
| ğŸ“• **é¡¹ç›®æŠ€æœ¯æ–‡æ¡£** | æ¶æ„ã€å¼€å‘ã€éƒ¨ç½² | `PROJECT_TECHNICAL_DOCUMENTATION.md` |
| ğŸ“™ **é¡¹ç›®æ¶æ„æ–‡æ¡£** | ç³»ç»Ÿè®¾è®¡ã€æ•°æ®åº“ | `PROJECT_ARCHITECTURE.md` |
| ğŸ“– **å®Œæ•´ README** | é¡¹ç›®æ€»è§ˆ | `README_COMPLETE.md` |
| ğŸ“„ **äº¤ä»˜æŠ¥å‘Š** | åŠŸèƒ½æ¸…å•ã€ç»Ÿè®¡ | `DOCUMENTATION_DELIVERY.md` |

---

## ğŸ é¢å¤–ç¦åˆ©

### è‡ªåŠ¨ç”Ÿæˆçš„ API æ–‡æ¡£

- **Swagger UI**: äº¤äº’å¼æµ‹è¯•ç•Œé¢ï¼Œå¯ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è°ƒç”¨ API
- **ReDoc**: ç¾è§‚çš„æ–‡æ¡£é˜…è¯»ç•Œé¢ï¼Œé€‚åˆé˜…è¯»å’Œåˆ†äº«

### ä»£ç ç¤ºä¾‹

æ–‡æ¡£ä¸­åŒ…å«å¤šç§è¯­è¨€çš„ä»£ç ç¤ºä¾‹ï¼š
- âœ… JavaScript/TypeScript
- âœ… Python
- âœ… React
- âœ… React Native
- âœ… Flutter
- âœ… cURL

---

## ğŸ¯ ä¸‹ä¸€æ­¥å»ºè®®

### ç»™å‰ç«¯å¼€å‘è€…

1. âœ… è®¿é—® http://13.113.11.170/docs ç†Ÿæ‚‰ API
2. âœ… é˜…è¯» `API_QUICK_START.md` å¿«é€Ÿä¸Šæ‰‹
3. âœ… å‚è€ƒ `API_DOCUMENTATION_COMPLETE.md` ä¸­çš„ä»£ç ç¤ºä¾‹
4. âœ… å¼€å§‹é›†æˆå¼€å‘

### ç»™åç«¯å¼€å‘è€…

1. âœ… é˜…è¯» `PROJECT_ARCHITECTURE.md` äº†è§£æ¶æ„
2. âœ… æŸ¥çœ‹ `PROJECT_TECHNICAL_DOCUMENTATION.md` å­¦ä¹ å¼€å‘æµç¨‹
3. âœ… æŸ¥çœ‹æ•°æ®åº“è®¾è®¡ç« èŠ‚
4. âœ… å¼€å§‹åŠŸèƒ½å¼€å‘

### ç»™æµ‹è¯•äººå‘˜

1. âœ… ä½¿ç”¨ Swagger UI æµ‹è¯•æ‰€æœ‰ç«¯ç‚¹
2. âœ… éªŒè¯æ•°æ®æ ¼å¼å’Œé”™è¯¯å¤„ç†
3. âœ… æµ‹è¯•æƒé™æ§åˆ¶
4. âœ… ç¼–å†™æµ‹è¯•ç”¨ä¾‹

### ç»™è¿ç»´äººå‘˜

1. âœ… æŸ¥çœ‹éƒ¨ç½²æ¶æ„ï¼ˆ`PROJECT_ARCHITECTURE.md` ç¬¬6ç« ï¼‰
2. âœ… ç†Ÿæ‚‰ç›‘æ§å’Œæ—¥å¿—
3. âœ… é…ç½®å¤‡ä»½ç­–ç•¥
4. âœ… è®¾ç½®å‘Šè­¦è§„åˆ™

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

### å¸¸è§é—®é¢˜

**Q: ç™»å½•å Token å¤šä¹…è¿‡æœŸï¼Ÿ**  
A: é»˜è®¤ 30 åˆ†é’Ÿï¼Œè¿‡æœŸåéœ€è¦é‡æ–°ç™»å½•

**Q: å¦‚ä½•æµ‹è¯•éœ€è¦æƒé™çš„ APIï¼Ÿ**  
A: ä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•ï¼Œè‡ªåŠ¨æ‹¥æœ‰æ‰€æœ‰æƒé™

**Q: ç™»å½•å¤±è´¥æ€ä¹ˆåŠï¼Ÿ**  
A: 
1. ç¡®è®¤ä½¿ç”¨æ­£ç¡®çš„é‚®ç®±ï¼š`admin@fundmanagement.com`ï¼ˆæ³¨æ„ä¸æ˜¯ `admin@example.com`ï¼‰
2. ç¡®è®¤å¯†ç ï¼š`admin123`
3. åœ¨ Swagger UI (http://13.113.11.170/docs) ä¸­æµ‹è¯•ï¼Œå¯ä»¥çœ‹åˆ°è¯¦ç»†é”™è¯¯
4. å¦‚æœæŒç»­å¤±è´¥ï¼Œè”ç³»æŠ€æœ¯æ”¯æŒé‡ç½®å¯†ç 

**Q: API è¿”å› 403 æ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ**  
A: å¯èƒ½æ˜¯ Token è¿‡æœŸæˆ–æƒé™ä¸è¶³ï¼Œè¯·æ£€æŸ¥ Authorization Header

**Q: å¦‚ä½•æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯ï¼Ÿ**  
A: æŸ¥çœ‹å“åº”ä¸­çš„ `message` å­—æ®µï¼Œæˆ–ä½¿ç”¨ Swagger UI æµ‹è¯•

### æŠ€æœ¯æ”¯æŒ

- ğŸ“§ é‚®ç®±: [è¡¥å……]
- ğŸ’¬ åœ¨çº¿æ–‡æ¡£: http://13.113.11.170/docs
- ğŸ“š å®Œæ•´æ–‡æ¡£: è§é¡¹ç›®æ ¹ç›®å½•

---

## ğŸŠ æ€»ç»“

### âœ… å·²äº¤ä»˜å†…å®¹

- âœ… **å®Œæ•´çš„ API æœåŠ¡** (6ä¸ªæ ¸å¿ƒç«¯ç‚¹å…¨éƒ¨å¯ç”¨)
- âœ… **åœ¨çº¿è®¿é—®åœ°å€** (ç”Ÿäº§ç¯å¢ƒå·²éƒ¨ç½²)
- âœ… **æµ‹è¯•è´¦å·** (å¯ç«‹å³æµ‹è¯•)
- âœ… **å®Œæ•´æ–‡æ¡£** (9ä»½è¯¦ç»†æ–‡æ¡£)
- âœ… **ä»£ç ç¤ºä¾‹** (30+ ä¸ªç¤ºä¾‹)
- âœ… **è‡ªåŠ¨åŒ–æ–‡æ¡£** (Swagger/ReDoc)

### ğŸ¯ æ ¸å¿ƒæ•°æ®

- **API å¯ç”¨ç‡**: 100% (6/6)
- **ç³»ç»Ÿå¥åº·åº¦**: 98%
- **å“åº”æ—¶é—´**: < 200ms
- **æ–‡æ¡£æ€»æ•°**: 9 ä»½
- **ä»£ç ç¤ºä¾‹**: 30+ ä¸ª
- **æ”¯æŒè¯­è¨€**: 5+ ç§

---

## ğŸŒŸ ç«‹å³å¼€å§‹æµ‹è¯•

**æœ€ç®€å•çš„æ–¹å¼**:

1. ğŸŒ æ‰“å¼€æµè§ˆå™¨è®¿é—®: **http://13.113.11.170/docs**
2. ğŸ” ä½¿ç”¨æµ‹è¯•è´¦å·ç™»å½•: `admin@example.com` / `admin123`
3. ğŸš€ å¼€å§‹æ¢ç´¢æ‰€æœ‰ API åŠŸèƒ½ï¼

---

**é¡¹ç›®äº¤ä»˜æ—¥æœŸ**: 2025-10-17  
**çŠ¶æ€**: âœ… ç”Ÿäº§ç¯å¢ƒè¿è¡Œä¸­  
**ä¸‹ä¸€æ­¥**: å¼€å§‹é›†æˆæµ‹è¯• ğŸš€

---

<div align="center">

### ğŸ‰ æ­å–œï¼é¡¹ç›®æˆåŠŸä¸Šçº¿ï¼ğŸ‰

**Fund Management API v1.0.0**

Made with â¤ï¸ by Fund Management Team

</div>
